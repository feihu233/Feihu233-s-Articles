# 宝可梦
## 属性
### 机制简述
* 性格值：决定性别、特性、异色、个性、进化方向等，4个字节
* 种族值：每个个体有一个，主要决定能力值计算
* 性格：决定属性成长倾向和对应属性道具的接受度（口味）
* 特性：相当于词条
* 个性：个体值中最高的一项，以其程度“翻译”而出

### 病毒
* 野生的感染病毒的宝可梦通过对战将病毒传递给玩家的随机宝可梦
* 感染病毒的宝可梦只能经过时间自然消除或克服病毒并获得免疫，除此以外没有消除方法
* 感染病毒的宝可梦在对战结束后获得的基础点数翻倍，通过基础点数增强道具获得的额外基础点数翻倍
### 几种伤害波动
* 属性克制：4-2-1-1/2-1/4倍-免疫（跳过伤害判定）
* 击中要害（x2）：无视部分影响攻击与防御的修正，包括部分对本方有利的修正
* 招式属性=宝可梦属性时，该招式威力x1.5
* 道具、特性、天气、状态修正
* 数量修正：多目标伤害降为 3/4、反射造成的重复伤害x1/2（场上1只）或2/3（2只以上）
* Z/极巨招式攻击守住状态造成x1/4伤害，除非对面为极巨防壁
### 太晶化
* 宝可梦携带并使用太晶水晶后会发生的变化，使用后持续到战斗结束
* 宝可梦可太晶化的属性不与种类有关，而是根据个体随机分配
* 太晶化会改变宝可梦属性，影响招式威力、属性克制等
* 太晶化前遭受的状态不会随着变为使状态无效的属性而解除
* 太晶化后对改变属性的招式/特性无效
* 与太晶化属性+本身属性都一致的招式威力x2
* 太晶化属性对应招式威力会被提到60，连续、先制、威力变动招式除外
* 改变招式属性的道具，根据太晶化属性改变属性的技能无效

## 对战类型
默认上场1只，携带6只。野外多宝可梦战斗时，只有场上剩1只敌人时能够捕获。
### PVE 团体战 3v1
### 轮盘对战 1v1
* 双方同时放出携带的3只宝可梦，只有中间的可以使用招式，且只能攻击中间的宝可梦
* 命令阶段可以旋转轮盘切换宝可梦（不消耗行动次数）并使用招式
* 不在中间的宝可梦会暂停所有效果
### 奇迹发射器对战 1v1-3v3
* 每回合获得+1奇迹点，三打则+2
* 消耗点数可以使用道具
	+ 1/5点：强制使用/丢弃目标的消耗类道具
	+ 2/4/8/10/13点：回血20/50/200/全部/全部+回复所有异常状态
	+ 3/5/7/12点：增加1/2/3/6级某能力，包括暴击率等级
	+ 3点：5回合内队伍不会受敌方能力降低类招式影响
	+ 4/6点：解除一个某异常状态/全部异常状态
	+ 9点：取消目标所有能力变化
	+ 12点：恢复一个招式的10点PP
	+ 11/14点：回复濒死宝可梦一半/全部HP
### 双打对战 2v2
* 每方有2只宝可梦（存在2/3/4人的不同处理方法）
* 下场宝可梦后，不同作有两种处理
	+ 先上场宝可梦再挨打
	+ 攻击方招式失败，然后上场宝可梦
### 三打对战 3v3
* 绝大多数内容与双打类似
* 站位：侧边宝可梦绝大多数单体招式/特性只能选择攻击同侧+中间的宝可梦，中间则可选择任一只
* 侧边宝可梦可通过移动命令与中间宝可梦交换位置，优先度0，占用回合，会使中间敌人对我方侧边宝可梦的非远程攻击失效
### 皇家对战 1v1v1v1
* 4名玩家各携带3个宝可梦
* 可攻击任意对手，群体有效（伤害-50%），溅射有效
* 1名玩家全部宝可梦倒下时开始结算，只有1位胜者
* 击杀判定依照伤害来源计，如天气、dot伤害、自爆（不算击杀）
* 灵感是 WWE 摔跤比赛

## 刷怪机制
### 明暗雷
### 引诱，追踪，钓鱼
* 引诱指晃动的草，接近时会被特定宝可梦“奇袭”
* 使用追踪后，晃动草中会出现宝可梦，击败/捕获宝可梦时会增加追踪连锁，连锁越高出现闪光晃动草几率越高，可捕获平时无法遇到宝可梦的或异色宝可梦（闪光晃动草必出）
	+ 连锁中断条件：在非晃草遇敌，遇到不同的宝可梦，没有晃动草或者晃动草被别人/特殊移动道具踩踏
	+ 部分作引诱中宝可梦的基础个体值与连锁有关
	+ 部分作草晃动越劲越有可能有特殊个体，越远晃动草越容易连锁
	+ 部分作草剧烈摇晃时有隐藏特性宝可梦
* 钓鱼出水生宝可梦
### 大量出现
* 特定条件（每日/随机事件）下，特定现实时间内特定区域中，特定1种宝可梦出现几率从无到有/大幅提高
* 部分作品中，该情况下击败/捕获宝可梦会提高异色判定次数，并会使该情况在击败/讨伐一定数量后消失

## 命中率
判定命中 = 招式命中参数 x 道具修正 x F x 特性及天气修正 / 255
随机数[0,99] < 判定命中 则命中
命中参数 = 255 x 招式命中率%，向上取整
### 取 F
F1 = 我方命中修正等级 - 敌方闪避修正等级，范围[-6,6]
F1 < 0: F = 3 / (3-F1)
F1 >=0: F = (3+F1) / 3
修正等级：原有 3 命中等级，+2 命中等级，敌方无变化，则按 +2 算
### 一击必杀计算
判定命中 = 30 + 自身等级 - 对方等级
随机数[0,99] < 判定命中 则命中

## 捕获率
### 精灵球系数
精灵球：1x/1.5x/2x/255x(必中)
特殊条件球：3.5-4x
重复球：如果已收服 3.5x
友情球：1x，收服后亲密度变满
治愈球：1x，收服后全部状态回复
豪华球：1x，亲密度上升量翻倍
先机球：如果第一回合，5x
甜蜜球：如果同种异性，8x
巢穴球：8- 0.2 x (敌方等级-1)，范围[1x-3x]
	更早版本 4- 对方等级 / 10，范围[1x-3x]
计时球：1+ 0.3 x 回合数，范围[1x-4x]
	更早版本 1+ 回合数/10，范围[1x-4x]
部分宝可梦强制修正为：0.1
#### 等级球
己方宝可梦等级为 A，敌方宝可梦等级为 B
      A <= 1B - 1x
1B <= A <= 2B - 2x
2B <= A <= 4B - 4x
4B <= A       - 8x
### 状态系数
#### 1
麻痹/灼伤/中毒 +12
睡眠/冰冻 +25
#### 2
冰冻/睡眠 + 10
中毒/灼伤/麻痹 + 5
#### 3/4
冰冻/睡眠 2x
中毒/灼伤/麻痹 1.5x
#### 5 以后
冰冻/睡眠 2.5x
中毒/灼伤/麻痹 1.5x
### 捕获判定-初代
产生随机数 N = [0, 精灵球系数]
N-状态系数 < 0或捕获率 即成功
失败则产生[0,255]随机数M，计算 F = (宝可梦最大HP x 256/系数 A) / (宝可梦当前HP/4)，M< = F 则成功
### 捕获判定-2
A = ((最大HP x3 xA - 当前HP x2 xA) x 捕获率 x 捕获修正) / (最大HP x3) + 状态修正
最大HP > 85 时，A为 0.25，且当前HPx2xA结果为 0 时修正为 1
A > 随机数M[0,255]则成功
### 捕获判定-3/4
B = ((最大HP x3 - 当前HP x2) x 捕获率 x 捕获修正 x 状态修正 x 捕获之力) / (最大HP x3)
B >= 255 时成功
捕获之力 = 1.1x/1.2x/1.3x/1.5x/2.0x/2.5x
### 会心捕捉-5
收服宝可梦越多，越大可能发生
会心捕捉判定 = B x 会心修正
会心捕捉判定 > 随机数[0,255]则会心成功
会心修正简单理解：2.5 x 图鉴收集率，实际从 0 开始以 150 捕获为阶段每段上涨 0.5

## 树果
分携带和直接使用，直接使用加属性，携带类似RPG中的药剂/饰品/一次性被动道具（抵消1次火伤害等）

## 种族值
种族自带固定值
## 个体值
由其对应2位16进制数(00-1F，0-31)表示，占 5 位字段，共 6 项
总体数串的第一位为宝可梦是否更名，第二位为特性，第三位为是否为蛋，之后是特防、特攻、速度、防御、攻击
HP = [种族值x2 + 个体值 + 基础点数/4] x 等级 /100 + 10 + 等级
其它 = [种族值x2 + 个体值 + 基础点数/4] x 等级 x 性格修正 /100 + 性格修正x5
性格也为随机，5x5=25个，幅度为 -10%/0/+10%
